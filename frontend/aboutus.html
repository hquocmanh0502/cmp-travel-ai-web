<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>About Us</title>
  <link rel="shortcut icon" type="image/x-icon" href="./images/header/logo-title.png"/>
  <link rel="stylesheet" href="./css/aboutus.css">
  <link rel="stylesheet" href="./css/main.css">
  <link rel="stylesheet" href="./css/erro.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Volkhov|Poppins|Roboto+Condensed|Yesteryear">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>

<body>
  <!-- AI Chatbot Widget -->
  <div id="chatbot-widget" class="chatbot-widget">
    <div class="chatbot-header" onclick="toggleChatbot()">
      <i class="fas fa-robot"></i>
      <span>CMP Travel Assistant</span>
      <i class="fas fa-chevron-up" id="chatbot-toggle"></i>
    </div>
    <div class="chatbot-body" id="chatbot-body">
      <div class="chatbot-messages" id="chatbot-messages">
        <div class="bot-message">
          Hello! Tôi là trợ lý AI của CMP Travel. Tôi có thể giúp bạn tìm tour phù hợp, tư vấn giá cả và hỗ trợ đặt tour. Bạn cần hỗ trợ gì?
        </div>
      </div>
      <div class="chatbot-suggestions" id="chatbot-suggestions">
        <button onclick="sendMessage('Gợi ý tour phù hợp với tôi')">Gợi ý tour</button>
        <button onclick="sendMessage('Tour nào đang hot nhất?')">Tour hot</button>
        <button onclick="sendMessage('Giá tour như thế nào?')">Về giá cả</button>
      </div>
      <div class="chatbot-input">
        <input type="text" id="chatbot-input" placeholder="Nhập câu hỏi của bạn..." onkeypress="handleEnter(event)">
        <button onclick="sendChatMessage()"><i class="fas fa-paper-plane"></i></button>
      </div>
    </div>
  </div>

  <style>
  .chatbot-widget {
    position: fixed;
    bottom: 20px;
    right: 20px;
    width: 350px;
    background: white;
    border-radius: 15px;
    box-shadow: 0 8px 30px rgba(0,0,0,0.15);
    z-index: 1000;
    font-family: 'Poppins', sans-serif;
  }

  .chatbot-header {
    background: linear-gradient(135deg, #ff6600, #ff8533);
    color: white;
    padding: 15px 20px;
    border-radius: 15px 15px 0 0;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: space-between;
    transition: all 0.3s ease;
  }

  .chatbot-header:hover {
    background: linear-gradient(135deg, #ff5500, #ff7722);
  }

  .chatbot-header i:first-child {
    font-size: 18px;
    margin-right: 10px;
  }

  .chatbot-body {
    height: 450px;
    display: none;
    flex-direction: column;
    background: #f8f9fa;
  }

  .chatbot-body.open {
    display: flex;
  }

  .chatbot-messages {
    flex: 1;
    padding: 20px;
    overflow-y: auto;
    max-height: 300px;
    background: white;
  }

  .bot-message, .user-message {
    margin: 12px 0;
    padding: 12px 16px;
    border-radius: 18px;
    max-width: 85%;
    word-wrap: break-word;
    line-height: 1.4;
  }

  .bot-message {
    background: #f1f3f5;
    color: #333;
    margin-right: auto;
    border-bottom-left-radius: 4px;
  }

  .user-message {
    background: linear-gradient(135deg, #ff6600, #ff8533);
    color: white;
    margin-left: auto;
    text-align: right;
    border-bottom-right-radius: 4px;
  }

  .chatbot-suggestions {
    padding: 15px 20px;
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    background: #f8f9fa;
    border-top: 1px solid #e9ecef;
  }

  .chatbot-suggestions button {
    background: white;
    border: 1px solid #dee2e6;
    padding: 8px 12px;
    border-radius: 20px;
    font-size: 12px;
    cursor: pointer;
    transition: all 0.3s ease;
    color: #666;
  }

  .chatbot-suggestions button:hover {
    background: #ff6600;
    color: white;
    border-color: #ff6600;
  }

  .chatbot-input {
    display: flex;
    padding: 20px;
    background: white;
    border-radius: 0 0 15px 15px;
    border-top: 1px solid #e9ecef;
  }

  .chatbot-input input {
    flex: 1;
    border: 1px solid #dee2e6;
    border-radius: 25px;
    padding: 12px 18px;
    margin-right: 10px;
    font-size: 14px;
    outline: none;
    transition: border-color 0.3s ease;
  }

  .chatbot-input input:focus {
    border-color: #ff6600;
  }

  .chatbot-input button {
    background: linear-gradient(135deg, #ff6600, #ff8533);
    color: white;
    border: none;
    border-radius: 50%;
    width: 45px;
    height: 45px;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .chatbot-input button:hover {
    transform: scale(1.05);
    background: linear-gradient(135deg, #ff5500, #ff7722);
  }

  /* Scrollbar styling */
  .chatbot-messages::-webkit-scrollbar {
    width: 4px;
  }

  .chatbot-messages::-webkit-scrollbar-track {
    background: #f1f1f1;
  }

  .chatbot-messages::-webkit-scrollbar-thumb {
    background: #ff6600;
    border-radius: 2px;
  }
  </style>

  <script>
  let chatbotOpen = false;
  let sessionId = 'session_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);

  function toggleChatbot() {
    const body = document.getElementById('chatbot-body');
    const toggle = document.getElementById('chatbot-toggle');
    
    if (chatbotOpen) {
      body.classList.remove('open');
      toggle.classList.remove('fa-chevron-down');
      toggle.classList.add('fa-chevron-up');
      chatbotOpen = false;
    } else {
      body.classList.add('open');
      toggle.classList.remove('fa-chevron-up');
      toggle.classList.add('fa-chevron-down');
      chatbotOpen = true;
    }
  }

  async function sendChatMessage() {
    const input = document.getElementById('chatbot-input');
    const message = input.value.trim();
    
    if (message) {
      addMessage(message, 'user');
      input.value = '';
      
      // Show typing indicator
      addTypingIndicator();
      
      try {
        const userId = localStorage.getItem('userId');
        const response = await fetch('/api/chatbot/message', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ sessionId, message, userId })
        });
        
        if (response.ok) {
          const data = await response.json();
          removeTypingIndicator();
          addMessage(data.message, 'bot');
          
          if (data.suggestions && data.suggestions.length > 0) {
            updateSuggestions(data.suggestions);
          }
        } else {
          removeTypingIndicator();
          addMessage('Xin lỗi, tôi đang gặp sự cố. Please thử lại sau.', 'bot');
        }
      } catch (error) {
        console.error('Chatbot error:', error);
        removeTypingIndicator();
        addMessage('Không thể kết nối đến server. Please kiểm tra kết nối mạng.', 'bot');
      }
    }
  }

  function addMessage(message, sender) {
    const messagesDiv = document.getElementById('chatbot-messages');
    const messageDiv = document.createElement('div');
    messageDiv.className = sender + '-message';
    messageDiv.textContent = message;
    messagesDiv.appendChild(messageDiv);
    messagesDiv.scrollTop = messagesDiv.scrollHeight;
  }

  function addTypingIndicator() {
    const messagesDiv = document.getElementById('chatbot-messages');
    const typingDiv = document.createElement('div');
    typingDiv.className = 'bot-message typing-indicator';
    typingDiv.innerHTML = 'Đang trả lời<span class="dots">...</span>';
    typingDiv.id = 'typing-indicator';
    messagesDiv.appendChild(typingDiv);
    messagesDiv.scrollTop = messagesDiv.scrollHeight;
  }

  function removeTypingIndicator() {
    const typingIndicator = document.getElementById('typing-indicator');
    if (typingIndicator) {
      typingIndicator.remove();
    }
  }

  function updateSuggestions(suggestions) {
    const suggestionsDiv = document.getElementById('chatbot-suggestions');
    suggestionsDiv.innerHTML = '';
    
    suggestions.forEach(suggestion => {
      const button = document.createElement('button');
      button.textContent = suggestion;
      button.onclick = () => sendMessage(suggestion);
      suggestionsDiv.appendChild(button);
    });
  }

  function sendMessage(message) {
    document.getElementById('chatbot-input').value = message;
    sendChatMessage();
  }

  function handleEnter(event) {
    if (event.key === 'Enter') {
      sendChatMessage();
    }
  }

  // Auto greetings
  document.addEventListener('DOMContentLoaded', () => {
    setTimeout(() => {
      if (!chatbotOpen) {
        const widget = document.getElementById('chatbot-widget');
        widget.style.animation = 'bounce 0.6s ease-in-out';
        setTimeout(() => {
          widget.style.animation = '';
        }, 600);
      }
    }, 3000);
  });
  </script>

  <style>
  @keyframes bounce {
    0%, 20%, 60%, 100% { transform: translateY(0); }
    40% { transform: translateY(-10px); }
    80% { transform: translateY(-5px); }
  }

  .typing-indicator .dots {
    animation: typing 1.4s infinite;
  }

  @keyframes typing {
    0%, 60% { opacity: 0; }
    30% { opacity: 1; }
  }
  </style>
  <!-- header -->
  <header class="header" style="background-image: url('./images/aboutus/background.jpg');">
    <div class="overlay"></div>
    <div class="header-text">
      <div id="up-title">READ</div>
      <div id="down-title">About Us</div>
    </div>
    <div class="nav-top-bar">
      <a href="index.html"><img src="./images/header/logo-removebg-preview.png" alt="" id="logo" /></a>
      <div class="nav-bar">
        <ul>
          <li class="active"><a href="index.html">Home</a></li>
          <li><a href="#" id="current" style="color: #ff6600;">About Us</a></li>
          <li class="active"><a href="destination.html">Destination</a></li>
          <li class="active"><a href="gallery.html">Gallery</a></li>
          <li class="active"><a href="blog.html">Blog</a></li>
          <li class="active"><a href="contact.html">Contact</a></li>
          <li class="active"><a href="feedback.html">Feedback</a></li>
          
          <!-- Greeting cho user đã login - Ban đầu ẩn -->
          <li class="greeting-li" style="display: none;">
            <span class="user-greeting">
              Hello, <span id="username">Username</span>! <i class="fa fa-caret-down"></i>
            </span>
            <!-- Dropdown menu should include: -->
            <div class="user-dropdown-menu">
              <a href="profile.html"><i class="fas fa-user"></i> Profile</a>
              <a href="my-bookings.html"><i class="fas fa-ticket-alt"></i> My Bookings</a>
              <a href="my-wishlist.html"><i class="fas fa-heart"></i> Wishlist</a>
              <a href="travel-history.html"><i class="fas fa-history"></i> Travel History</a>
              <a href="preferences.html"><i class="fas fa-cog"></i> AI Preferences</a>
              <a href="#" class="logout-link"><i class="fas fa-sign-out-alt"></i> Logout</a>
            </div>
          </li>
          
          <!-- Auth buttons cho user chưa login - Ban đầu hiện - Đặt trong <li> -->
          <li class="auth-li" id="auth-li">
            <div class="auth-buttons">
              <a href="login.html" class="btn-login">Login</a>
              <a href="create_acc.html" class="btn-register">Register</a>
            </div>
          </li>
        </ul>
      </div>
    </div>
  </header>

  <section class="body">
    <!-- promotion -->
    <section class="promotion">
      <section class="hero">
        <div class="container">
          <div class="row align-items-center">
            <div class="col-md-6 slide-right">
              <h1 class="title1">Promotion</h1>
              <h2 class="title2">We Provide You Best Sightseeing Tours</h2>
              <p class="description">"Join our captivating sightseeing tours, thoughtfully designed to highlight the
                most fascinating aspects of each destination. Whether you're exploring historical sites, stunning
                natural landscapes, or vibrant city scenes, our knowledgeable guides ensure you experience the best of
                every place we visit."</p>
              <button class="buttons">View Packages</button>
            </div>
            <div class="col-md-6 slide-left">
              <div class="image-container">
                <img src="./images/aboutus/Ellipse 626.png" class="img-fluid rounded-circle"
                  alt="Europe Sightseeing">
              </div>
            </div>
          </div>
        </div>
      </section>
    </section>
    <!-- video -->
    <div id="carouselExampleIndicators" class="carousel slide video slide-up" data-ride="carousel">
      <ol class="carousel-indicators">
        <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
        <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
        <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
      </ol>
      <div class="carousel-inner">
        <div class="carousel-item active">
          <video src="./images/aboutus/italy.mp4" id="video-1" muted autoplay preload="auto"></video>
        </div>
        <div class="carousel-item">
          <video src="./images/aboutus/maldives.mp4" id="video-2" muted autoplay preload="auto"></video>
        </div>
        <div class="carousel-item">
          <video src="./images/aboutus/japan.mp4" id="video-3" muted autoplay preload="auto"></video>
        </div>
      </div>
      <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
      </a>
      <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>
    </div>
    <!-- trend -->
    <section class="trend">
      <div class="images">
        <img src="./images/aboutus/2anh.png" alt="Polaroid 1" class="polaroid slide-right">
      </div>
      <div class="content slide-up">
        <h2 class="title1">TREND</h2>
        <h1 class="title2">Our Popular Tour Plans</h1>
        <p class="description">"Discover a range of captivating tour plans that cater to diverse interests and
          preferences. From scenic getaways and romantic escapes to cultural explorations and vibrant musical events,
          our popular tour options promise unforgettable experiences in renowned destinations worldwide."</p>
        <div class="stats">
          <div class="stat">
            <img src="./images/aboutus/78.png" alt="Vacations" class="stat-image">
          </div>
          <div class="stat">
            <img src="./images/aboutus/55.png" alt="Honeymoon" class="stat-image">
          </div>
          <div class="stat">
            <img src="./images/aboutus/30.png" alt="Musical Events" class="stat-image">
          </div>
        </div>
      </div>
      <img src="./images/aboutus/voso.png" alt="Shell" class="shell slide-left">
    </section>
    <!-- explore -->
    <section class="explore_more">
      <h1 class="title1 reveal">Explore more</h1>
      <h2 class="title2 reveal">Our International Packages</h2>
      <section class="explore">
        <div class="package large slide-right-delay" data-id="34">
          <div class="image"><img src="./images/aboutus/rio.png" alt="Barcelona"></div>
          <div class="info">
            <h2>Barcelona</h2>
            <p>$840</p>
          </div>
        </div>
        <div class="package slide-right-delay" data-id="35">
          <div class="image"><img src="https://images.unsplash.com/photo-1573843981267-be1999ff37cd?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w2MjA4MjB8MHwxfHNlYXJjaHw1fHxNYWxkaXZlc3xlbnwwfHx8fDE3MTkxNTI4MzJ8MA&ixlib=rb-4.0.3&q=80&w=1080" alt=""></div>
          <div class="info">
              <h2>Maldives</h2>
              <p>5.000$</p>
          </div>
      </div>
      <div class="package slide-right-delay" data-id="36">
          <div class="image"><img src="https://images.unsplash.com/photo-1612178010892-205e565c4c5d?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w2MjA4MjB8MHwxfHNlYXJjaHwzfHxMYXV0ZXJicnVubmVufGVufDB8fHx8MTcxOTE1NDUwMHww&ixlib=rb-4.0.3&q=80&w=1080" alt=""></div>
          <div class="info">
              <h2>Lauterbrunnen</h2>
              <p>5.500$</p>
          </div>
      </div>
      <div class="package slide-right-delay" data-id="5">
          <div class="image"><img src="https://images.unsplash.com/photo-1588535684923-900727736ac0?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w2MjA4MjB8MHwxfHNlYXJjaHwyfHxMaXNib258ZW58MHx8fHwxNzE5MTU2NDIyfDA&ixlib=rb-4.0.3&q=80&w=1080" alt=""></div>
          <div class="info">
              <h2>Lisbon</h2>
              <p>4.000$</p>
          </div>
      </div>
      <div class="package slide-right-delay" data-id="13">
          <div class="image"><img src="https://images.unsplash.com/photo-1605707141131-aa742dcf4671?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w2MjA4MjB8MHwxfHNlYXJjaHw1fHxBdGhlbnN8ZW58MHx8fHwxNzE5MTc1MDI0fDA&ixlib=rb-4.0.3&q=80&w=1080" alt=""></div>
          <div class="info">
              <h2>Athens</h2>
              <p>4.500$</p>
          </div>
      </div>
      <div class="package slide-right-delay" data-id="14">
          <div class="image"><img src="https://images.unsplash.com/photo-1548580392-8d9c772d854e?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w2MjA4MjB8MHwxfHNlYXJjaHw4fHxTYW50b3Jpbml8ZW58MHx8fHwxNzE5MTc1MTA5fDA&ixlib=rb-4.0.3&q=80&w=1080" alt=""></div>
          <div class="info">
              <h2>Santorini</h2>
              <p>5.500$</p>
          </div>
      </div>
      <div class="package slide-right-delay" data-id="22">
          <div class="image"><img src=https://images.unsplash.com/photo-1586820672103-2272d8490ade?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w2MjA4MjB8MHwxfHNlYXJjaHwyfHxQaHVrZXR8ZW58MHx8fHwxNzE5MTc1MTY2fDA&ixlib=rb-4.0.3&q=80&w=1080 alt=""></div>
          <div class="info">
              <h2>Phuket</h2>
              <p>6.000$</p>
          </div>
      </div>
      <div class="package slide-right-delay" data-id="26">
          <div class="image"><img src="https://images.unsplash.com/photo-1528114039593-4366cc08227d?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w2MjA4MjB8MHwxfHNlYXJjaHw0fHxGbG9yZW5jZXxlbnwwfHx8fDE3MTkxNzUyMzh8MA&ixlib=rb-4.0.3&q=80&w=1080" alt=""></div>
          <div class="info">
              <h2>Florence</h2>
              <p>5.500$</p>
          </div>
      </div>
      <div class="package slide-right-delay" data-id="28">
          <div class="image"><img src=https://images.unsplash.com/photo-1610016302534-6f67f1c968d8?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w2MjA4MjB8MHwxfHNlYXJjaHwxfHxNaWxhbnxlbnwwfHx8fDE3MTkxNzUzMDN8MA&ixlib=rb-4.0.3&q=80&w=1080 alt=""></div>
          <div class="info">
              <h2>Milan</h2>
              <p>4.500$</p>
          </div>
      </div>
      <div class="package slide-right-delay" data-id="25">
          <div class="image"><img src=https://images.unsplash.com/photo-1525874684015-58379d421a52?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w2MjA4MjB8MHwxfHNlYXJjaHw0fHxSb21lfGVufDB8fHx8MTcxOTE3NTM2NHww&ixlib=rb-4.0.3&q=80&w=1080 alt=""></div>
          <div class="info">
              <h2>Rome</h2>
              <p>6.000$</p>
          </div>
      </div>
      <div class="package slide-right-delay" data-id="30">
          <div class="image"><img src="https://images.unsplash.com/photo-1502602898657-3e91760cbb34?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w2MjA4MjB8MHwxfHNlYXJjaHwzfHxQYXJpc3xlbnwwfHx8fDE3MTkxNzU0MzJ8MA&ixlib=rb-4.0.3&q=80&w=1080" alt=""></div>
          <div class="info">
              <h2>Paris</h2>
              <p>7000$</p>
          </div>
      </div>
      </section>
    </section>


  </section>
  <!-- Scroll Icon -->
  <div class="icon-container">
    <i id="scrollDownIcon"><img src="./images/blog/xuong.png" alt="Cuộn xuống"></i>
    <i id="scrollUpIcon"><img src="./images/blog/len.png" alt="Cuộn lên"></i>
  </div>
  <!-- Footer -->
  <footer></footer>

  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  <script src="https://unpkg.com/scrollreveal@4.0.0/dist/scrollreveal.min.js"></script>
  <script src="./js/toast.js"></script>
  <script src="./js/main.js"></script>
  <script src="./js/aboutus.js"></script>
</body>

</html>